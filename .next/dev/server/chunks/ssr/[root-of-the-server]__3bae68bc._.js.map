{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/code_space/webdev/test/lib/auth-context.tsx"],"sourcesContent":["'use client'\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react'\nimport { User } from '@/lib/types'\n\ninterface AuthContextType {\n  user: User | null\n  login: (email: string, password: string, role: User['role']) => Promise<boolean>\n  logout: () => void\n  register: (userData: Partial<User> & { password: string }) => Promise<boolean>\n  isAuthenticated: boolean\n  isLoading: boolean\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\n// Mock user storage (in production, this would be handled by a backend)\nconst USERS_STORAGE_KEY = 'cloudbites_users'\nconst CURRENT_USER_KEY = 'cloudbites_current_user'\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    // Check for existing session on mount\n    const savedUser = localStorage.getItem(CURRENT_USER_KEY)\n    if (savedUser) {\n      try {\n        setUser(JSON.parse(savedUser))\n      } catch (error) {\n        console.error('Error parsing saved user:', error)\n        localStorage.removeItem(CURRENT_USER_KEY)\n      }\n    }\n    setIsLoading(false)\n  }, [])\n\n  const getUsers = (): User[] => {\n    const users = localStorage.getItem(USERS_STORAGE_KEY)\n    return users ? JSON.parse(users) : []\n  }\n\n  const saveUsers = (users: User[]) => {\n    localStorage.setItem(USERS_STORAGE_KEY, JSON.stringify(users))\n  }\n\n  const login = async (email: string, password: string, role: User['role']): Promise<boolean> => {\n    setIsLoading(true)\n\n    // Simulate API call delay\n    await new Promise(resolve => setTimeout(resolve, 1000))\n\n    const users = getUsers()\n    const foundUser = users.find(u => u.email === email && u.role === role)\n\n    if (foundUser) {\n      // In production, you would hash and compare passwords properly\n      // For demo purposes, we'll accept any password for existing users\n      setUser(foundUser)\n      localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(foundUser))\n      setIsLoading(false)\n      return true\n    }\n\n    setIsLoading(false)\n    return false\n  }\n\n  const logout = () => {\n    setUser(null)\n    localStorage.removeItem(CURRENT_USER_KEY)\n  }\n\n  const register = async (userData: Partial<User> & { password: string }): Promise<boolean> => {\n    setIsLoading(true)\n\n    // Simulate API call delay\n    await new Promise(resolve => setTimeout(resolve, 1000))\n\n    const users = getUsers()\n\n    // Check if user already exists\n    if (users.some(u => u.email === userData.email)) {\n      setIsLoading(false)\n      return false\n    }\n\n    // Create new user\n    const newUser: User = {\n      id: Date.now().toString(),\n      email: userData.email!,\n      name: userData.name!,\n      phone: userData.phone || '',\n      role: userData.role!,\n      avatar: userData.avatar || `https://ui-avatars.com/api/?name=${encodeURIComponent(userData.name!)}&background=random`,\n      createdAt: new Date().toISOString(),\n      // Add role-specific fields\n      ...(userData.role === 'kitchen' && {\n        kitchenName: userData.kitchenName || '',\n        kitchenAddress: userData.kitchenAddress || '',\n        fssaiLicense: userData.fssaiLicense || '',\n        gstNumber: userData.gstNumber || '',\n        cuisine: userData.cuisine || []\n      }),\n      ...(userData.role === 'delivery' && {\n        vehicleType: userData.vehicleType || 'motorcycle',\n        licenseNumber: userData.licenseNumber || '',\n        aadharNumber: userData.aadharNumber || ''\n      })\n    }\n\n    users.push(newUser)\n    saveUsers(users)\n\n    // Auto-login after registration\n    setUser(newUser)\n    localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(newUser))\n\n    setIsLoading(false)\n    return true\n  }\n\n  const value: AuthContextType = {\n    user,\n    login,\n    logout,\n    register,\n    isAuthenticated: !!user,\n    isLoading\n  }\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider')\n  }\n  return context\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/code_space/webdev/test/lib/cart-context.tsx"],"sourcesContent":["'use client'\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react'\nimport type { CloudKitchen, MenuItem } from '@/lib/types'\n\ninterface CartItem {\n  item: MenuItem\n  quantity: number\n  specialInstructions?: string\n}\n\ninterface CartContextType {\n  cart: CartItem[]\n  kitchen: CloudKitchen | null\n  addToCart: (item: MenuItem, quantity?: number, instructions?: string, kitchen?: CloudKitchen) => void\n  removeFromCart: (itemId: string) => void\n  updateQuantity: (itemId: string, quantity: number) => void\n  clearCart: () => void\n  getCartTotal: () => number\n  getCartItemCount: () => number\n  getTotalItems: () => number\n  cartSubtotal: number\n  deliveryFee: number\n  platformFee: number\n  cartTotal: number\n  isOpen: boolean\n  setIsOpen: (open: boolean) => void\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined)\n\n// Storage keys\nconst CART_STORAGE_KEY = 'cloudbites_cart'\nconst KITCHEN_STORAGE_KEY = 'cloudbites_kitchen'\n\nexport function CartProvider({ children }: { children: ReactNode }) {\n  const [cart, setCart] = useState<CartItem[]>([])\n  const [kitchen, setKitchen] = useState<CloudKitchen | null>(null)\n  const [isOpen, setIsOpen] = useState(false)\n\n  // Load cart from localStorage on mount\n  useEffect(() => {\n    try {\n      const savedCart = localStorage.getItem(CART_STORAGE_KEY)\n      const savedKitchen = localStorage.getItem(KITCHEN_STORAGE_KEY)\n\n      if (savedCart) {\n        setCart(JSON.parse(savedCart))\n      }\n      if (savedKitchen) {\n        setKitchen(JSON.parse(savedKitchen))\n      }\n    } catch (error) {\n      console.error('Error loading cart from localStorage:', error)\n      // Clear corrupted data\n      localStorage.removeItem(CART_STORAGE_KEY)\n      localStorage.removeItem(KITCHEN_STORAGE_KEY)\n    }\n  }, [])\n\n  // Save cart to localStorage whenever it changes\n  useEffect(() => {\n    if (cart.length > 0) {\n      localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart))\n    } else {\n      localStorage.removeItem(CART_STORAGE_KEY)\n    }\n  }, [cart])\n\n  // Save kitchen to localStorage whenever it changes\n  useEffect(() => {\n    if (kitchen) {\n      localStorage.setItem(KITCHEN_STORAGE_KEY, JSON.stringify(kitchen))\n    } else {\n      localStorage.removeItem(KITCHEN_STORAGE_KEY)\n    }\n  }, [kitchen])\n\n  const addToCart = (item: MenuItem, quantity = 1, instructions?: string, kitchenInfo?: CloudKitchen) => {\n    // Check if adding from a different kitchen\n    if (kitchenInfo && kitchen && kitchen.id !== kitchenInfo.id) {\n      // Clear cart if switching kitchens\n      if (window.confirm('Adding items from a different kitchen will clear your current cart. Continue?')) {\n        setCart([{ item, quantity, specialInstructions: instructions }])\n        setKitchen(kitchenInfo)\n      }\n      return\n    }\n\n    // Set kitchen if not set\n    if (kitchenInfo && !kitchen) {\n      setKitchen(kitchenInfo)\n    }\n\n    setCart(prevCart => {\n      const existingItem = prevCart.find((c) => c.item.id === item.id)\n\n      if (existingItem) {\n        return prevCart.map((c) =>\n          c.item.id === item.id\n            ? {\n                ...c,\n                quantity: c.quantity + quantity,\n                specialInstructions: instructions || c.specialInstructions,\n              }\n            : c\n        )\n      } else {\n        return [...prevCart, { item, quantity, specialInstructions: instructions }]\n      }\n    })\n\n    // Open cart when adding items\n    setIsOpen(true)\n  }\n\n  const removeFromCart = (itemId: string) => {\n    setCart(prevCart => prevCart.filter((c) => c.item.id !== itemId))\n  }\n\n  const updateQuantity = (itemId: string, quantity: number) => {\n    if (quantity === 0) {\n      removeFromCart(itemId)\n    } else {\n      setCart(prevCart =>\n        prevCart.map((c) =>\n          c.item.id === itemId ? { ...c, quantity } : c\n        )\n      )\n    }\n  }\n\n  const clearCart = () => {\n    setCart([])\n    setKitchen(null)\n    localStorage.removeItem(CART_STORAGE_KEY)\n    localStorage.removeItem(KITCHEN_STORAGE_KEY)\n  }\n\n  const getCartTotal = () => {\n    return cart.reduce((total, cartItem) => total + cartItem.item.price * cartItem.quantity, 0)\n  }\n\n  const getCartItemCount = () => {\n    return cart.reduce((total, cartItem) => total + cartItem.quantity, 0)\n  }\n\n  const getTotalItems = () => {\n    return cart.length\n  }\n\n  // Calculate derived values\n  const cartSubtotal = getCartTotal()\n  const deliveryFee = kitchen?.deliveryFee || 0\n  const platformFee = 2.50\n  const cartTotal = cartSubtotal + deliveryFee + platformFee\n\n  const value: CartContextType = {\n    cart,\n    kitchen,\n    addToCart,\n    removeFromCart,\n    updateQuantity,\n    clearCart,\n    getCartTotal,\n    getCartItemCount,\n    getTotalItems,\n    cartSubtotal,\n    deliveryFee,\n    platformFee,\n    cartTotal,\n    isOpen,\n    setIsOpen\n  }\n\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>\n}\n\nexport function useCart() {\n  const context = useContext(CartContext)\n  if (context === undefined) {\n    throw new Error('useCart must be used within a CartProvider')\n  }\n  return context\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/code_space/webdev/test/components/cloud-cart-sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useRouter } from \"next/navigation\"\nimport type { CloudKitchen, MenuItem } from \"@/lib/types\"\nimport { Trash2, X, ChevronRight, ShoppingBag } from \"lucide-react\"\nimport { useState } from \"react\"\n\ninterface CartItem {\n  item: MenuItem\n  quantity: number\n  specialInstructions?: string\n}\n\nexport default function CloudCartSidebar({\n  cart,\n  kitchen,\n  onRemove,\n  onUpdateQuantity,\n  onClose,\n  isOpen,\n}: {\n  cart: CartItem[]\n  kitchen: CloudKitchen\n  onRemove: (itemId: string) => void\n  onUpdateQuantity: (itemId: string, quantity: number) => void\n  onClose: () => void\n  isOpen: boolean\n}) {\n  const router = useRouter()\n  const [showDeliveryOptions, setShowDeliveryOptions] = useState(false)\n\n  const subtotal = cart.reduce((sum, cartItem) => sum + cartItem.item.price * cartItem.quantity, 0)\n  const deliveryFee = kitchen.deliveryFee\n  const platformFee = 2.50\n  const total = subtotal + deliveryFee + platformFee\n\n  const handleCheckout = () => {\n    if (cart.length > 0) {\n      const orderData = {\n        kitchenId: kitchen.id,\n        items: cart.map(c => ({\n          menuItemId: c.item.id,\n          name: c.item.name,\n          quantity: c.quantity,\n          price: c.item.price,\n          specialInstructions: c.specialInstructions\n        })),\n        subtotal,\n        deliveryFee,\n        platformFee,\n        total\n      }\n\n      // Store order data in sessionStorage for checkout page\n      sessionStorage.setItem('orderData', JSON.stringify(orderData))\n      router.push('/checkout')\n    }\n  }\n\n  const handleSubscription = () => {\n    if (cart.length > 0) {\n      const orderData = {\n        kitchenId: kitchen.id,\n        items: cart.map(c => ({\n          menuItemId: c.item.id,\n          name: c.item.name,\n          quantity: c.quantity,\n          price: c.item.price,\n          specialInstructions: c.specialInstructions\n        })),\n        subtotal,\n        deliveryFee,\n        platformFee,\n        total\n      }\n\n      // Store order data in sessionStorage for subscription page\n      sessionStorage.setItem('orderData', JSON.stringify(orderData))\n      router.push('/checkout?mode=subscription')\n    }\n  }\n\n  if (!isOpen) return null\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div\n        className=\"fixed inset-0 bg-black/50 z-40\"\n        onClick={onClose}\n      />\n\n      {/* Sidebar */}\n      <div className=\"fixed right-0 top-0 h-full w-full md:w-96 bg-white shadow-xl z-50 flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-neutral-200\">\n          <h2 className=\"font-bold text-lg flex items-center gap-2\">\n            <ShoppingBag className=\"w-5 h-5\" />\n            Your Cart\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-neutral-100 rounded-lg transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Kitchen Info */}\n        <div className=\"p-6 border-b border-neutral-200 bg-neutral-50\">\n          <h3 className=\"font-semibold\">{kitchen.name}</h3>\n          <p className=\"text-sm text-muted-foreground\">{kitchen.cuisineType.join(\", \")}</p>\n          <p className=\"text-sm text-muted-foreground\">Min. Order: ₹{kitchen.minOrderAmount}</p>\n        </div>\n\n        {/* Cart Items */}\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {cart.length > 0 ? (\n            <div className=\"space-y-4\">\n              {cart.map((cartItem) => (\n                <div key={cartItem.item.id} className=\"border border-neutral-200 rounded-lg p-3\">\n                  <div className=\"flex gap-3 mb-2\">\n                    <img\n                      src={cartItem.item.image || \"https://picsum.photos/seed/food-item/64/64.jpg\"}\n                      alt={cartItem.item.name}\n                      className=\"w-16 h-16 object-cover rounded\"\n                      onError={(e) => {\n                        e.currentTarget.src = \"https://picsum.photos/seed/food-placeholder/64/64.jpg\"\n                      }}\n                    />\n                    <div className=\"flex-1\">\n                      <h4 className=\"font-medium text-sm line-clamp-2\">{cartItem.item.name}</h4>\n                      <p className=\"text-primary font-bold text-sm\">\n                        ₹{(cartItem.item.price * cartItem.quantity).toFixed(2)}\n                      </p>\n                      <p className=\"text-xs text-muted-foreground\">₹{cartItem.item.price} each</p>\n                    </div>\n                    <button\n                      onClick={() => onRemove(cartItem.item.id)}\n                      className=\"text-muted-foreground hover:text-destructive transition-colors\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      onClick={() => onUpdateQuantity(cartItem.item.id, Math.max(1, cartItem.quantity - 1))}\n                      className=\"w-6 h-6 rounded border border-neutral-200 flex items-center justify-center hover:bg-neutral-100\"\n                    >\n                      −\n                    </button>\n                    <span className=\"flex-1 text-center font-medium\">{cartItem.quantity}</span>\n                    <button\n                      onClick={() => onUpdateQuantity(cartItem.item.id, cartItem.quantity + 1)}\n                      className=\"w-6 h-6 rounded border border-neutral-200 flex items-center justify-center hover:bg-neutral-100\"\n                    >\n                      +\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <ShoppingBag className=\"w-12 h-12 text-muted-foreground mx-auto mb-4 opacity-50\" />\n              <p className=\"text-muted-foreground\">Your cart is empty</p>\n            </div>\n          )}\n        </div>\n\n        {/* Order Summary */}\n        {cart.length > 0 && (\n          <div className=\"border-t border-neutral-200 p-6 space-y-4\">\n            <div className=\"space-y-2\">\n              <div className=\"flex justify-between text-sm\">\n                <span>Subtotal</span>\n                <span>₹{subtotal.toFixed(2)}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span>Delivery Fee</span>\n                <span>₹{deliveryFee.toFixed(2)}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span>Platform Fee</span>\n                <span>₹{platformFee.toFixed(2)}</span>\n              </div>\n              <div className=\"flex justify-between font-bold text-lg pt-2 border-t\">\n                <span>Total</span>\n                <span className=\"text-primary\">₹{total.toFixed(2)}</span>\n              </div>\n            </div>\n\n            {/* Subscription Option */}\n            {kitchen.subscriptionAvailable && (\n              <button\n                onClick={handleSubscription}\n                className=\"w-full px-4 py-3 border-2 border-primary text-primary rounded-lg hover:bg-primary/5 transition-colors font-medium\"\n              >\n                Setup Subscription\n              </button>\n            )}\n\n            {/* Checkout Button */}\n            <button\n              onClick={handleCheckout}\n              disabled={subtotal < kitchen.minOrderAmount}\n              className=\"w-full px-4 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium\"\n            >\n              {subtotal < kitchen.minOrderAmount\n                ? `Add ₹${(kitchen.minOrderAmount - subtotal).toFixed(2)} more to checkout`\n                : `Checkout • ₹${total.toFixed(2)}`\n              }\n            </button>\n\n            <div className=\"text-xs text-muted-foreground text-center\">\n              Estimated delivery: {kitchen.deliveryTime} minutes\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 804, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/code_space/webdev/test/components/global-cart-sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useRouter } from \"next/navigation\"\nimport { Trash2, X, ChevronRight, ShoppingBag } from \"lucide-react\"\nimport { useCart } from \"@/lib/cart-context\"\nimport CloudCartSidebar from \"@/components/cloud-cart-sidebar\"\nimport type { CloudKitchen } from \"@/lib/types\"\n\nexport default function GlobalCartSidebar() {\n  const router = useRouter()\n  const {\n    cart,\n    kitchen,\n    removeFromCart,\n    updateQuantity,\n    getCartTotal,\n    getTotalItems,\n    cartSubtotal,\n    deliveryFee,\n    platformFee,\n    cartTotal,\n    isOpen,\n    setIsOpen\n  } = useCart()\n\n  const handleCheckout = () => {\n    if (cart.length > 0 && kitchen) {\n      const orderData = {\n        kitchenId: kitchen.id,\n        items: cart.map(c => ({\n          menuItemId: c.item.id,\n          name: c.item.name,\n          quantity: c.quantity,\n          price: c.item.price,\n          specialInstructions: c.specialInstructions\n        })),\n        subtotal: cartSubtotal,\n        deliveryFee,\n        platformFee,\n        total: cartTotal\n      }\n\n      // Store order data in sessionStorage for checkout page\n      sessionStorage.setItem('orderData', JSON.stringify(orderData))\n      setIsOpen(false)\n      router.push('/checkout')\n    }\n  }\n\n  const handleSubscription = () => {\n    if (cart.length > 0 && kitchen) {\n      const orderData = {\n        kitchenId: kitchen.id,\n        items: cart.map(c => ({\n          menuItemId: c.item.id,\n          name: c.item.name,\n          quantity: c.quantity,\n          price: c.item.price,\n          specialInstructions: c.specialInstructions\n        })),\n        subtotal: cartSubtotal,\n        deliveryFee,\n        platformFee,\n        total: cartTotal\n      }\n\n      // Store order data in sessionStorage for subscription page\n      sessionStorage.setItem('orderData', JSON.stringify(orderData))\n      setIsOpen(false)\n      router.push('/checkout?mode=subscription')\n    }\n  }\n\n  if (!isOpen || !kitchen) return null\n\n  return (\n    <CloudCartSidebar\n      cart={cart}\n      kitchen={kitchen}\n      onRemove={removeFromCart}\n      onUpdateQuantity={updateQuantity}\n      onClose={() => setIsOpen(false)}\n      isOpen={isOpen}\n    />\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAQe,SAAS;IACtB,MAAM,SAAS,IAAA,8QAAS;IACxB,MAAM,EACJ,IAAI,EACJ,OAAO,EACP,cAAc,EACd,cAAc,EACd,YAAY,EACZ,aAAa,EACb,YAAY,EACZ,WAAW,EACX,WAAW,EACX,SAAS,EACT,MAAM,EACN,SAAS,EACV,GAAG,IAAA,kIAAO;IAEX,MAAM,iBAAiB;QACrB,IAAI,KAAK,MAAM,GAAG,KAAK,SAAS;YAC9B,MAAM,YAAY;gBAChB,WAAW,QAAQ,EAAE;gBACrB,OAAO,KAAK,GAAG,CAAC,CAAA,IAAK,CAAC;wBACpB,YAAY,EAAE,IAAI,CAAC,EAAE;wBACrB,MAAM,EAAE,IAAI,CAAC,IAAI;wBACjB,UAAU,EAAE,QAAQ;wBACpB,OAAO,EAAE,IAAI,CAAC,KAAK;wBACnB,qBAAqB,EAAE,mBAAmB;oBAC5C,CAAC;gBACD,UAAU;gBACV;gBACA;gBACA,OAAO;YACT;YAEA,uDAAuD;YACvD,eAAe,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;YACnD,UAAU;YACV,OAAO,IAAI,CAAC;QACd;IACF;IAEA,MAAM,qBAAqB;QACzB,IAAI,KAAK,MAAM,GAAG,KAAK,SAAS;YAC9B,MAAM,YAAY;gBAChB,WAAW,QAAQ,EAAE;gBACrB,OAAO,KAAK,GAAG,CAAC,CAAA,IAAK,CAAC;wBACpB,YAAY,EAAE,IAAI,CAAC,EAAE;wBACrB,MAAM,EAAE,IAAI,CAAC,IAAI;wBACjB,UAAU,EAAE,QAAQ;wBACpB,OAAO,EAAE,IAAI,CAAC,KAAK;wBACnB,qBAAqB,EAAE,mBAAmB;oBAC5C,CAAC;gBACD,UAAU;gBACV;gBACA;gBACA,OAAO;YACT;YAEA,2DAA2D;YAC3D,eAAe,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;YACnD,UAAU;YACV,OAAO,IAAI,CAAC;QACd;IACF;IAEA,IAAI,CAAC,UAAU,CAAC,SAAS,OAAO;IAEhC,qBACE,6WAAC,kJAAgB;QACf,MAAM;QACN,SAAS;QACT,UAAU;QACV,kBAAkB;QAClB,SAAS,IAAM,UAAU;QACzB,QAAQ;;;;;;AAGd","debugId":null}}]
}